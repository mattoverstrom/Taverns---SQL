<!-- create database tavern
use tavern
EXECUTE ----****database tavern*****

//Table Tavern

create table supplies_tbl
(
tavernID int primary key
FirstName varchar (50),
LastName varchar (50),
Salary float,
MobileNo varchar(15)
)
///*****SELECT ALL EXECUTE ***** select from create table down only***
///refresh tavern database -->


<!-- //foreign key
alter table supplies
add foreign key (Customer) references customer (ID);

*****<RUN></RUN>****

https://www.youtube.com/watch?v=9Pzj7Aj25lw 44:55 Foreign Keys

 -->


_________________________________________________________________________________________________
 <!-- DROP TABLE IF EXISTS ServiceSales, SupplySales, GuestClass, Class, GuestStatusLink, Guest, GuestStatus, Inventory, TavernOrders, Supplies, Statuses, Services, Roles, Employees, Locations, Owners, Taverns;

/*Tables */
CREATE TABLE Taverns (
	TavernID int PRIMARY KEY IDENTITY(1,1),
	TavernName varchar(100),
	LocationID int,
	Floors int,
	OwnerID int
);

CREATE TABLE Owners (
	OwnerID int PRIMARY KEY IDENTITY(1,1),
	OwnerName varchar(100)
);

CREATE TABLE Locations (
	LocationID int PRIMARY KEY IDENTITY(1,1),
	Address varchar(100),
	City varchar(100),
	Country varchar(100)
);


CREATE TABLE Roles (
	RoleID int PRIMARY KEY IDENTITY(1,1),
	RoleName varchar(100),
	RoleDescription varchar(250)
);

CREATE TABLE Employees (
	EmployeeID int PRIMARY KEY IDENTITY(1,1),
	EmployeeName varchar(100),
	TavernID int,
	Pay int,
	RoleID int
);

CREATE TABLE Services (
	ServiceID int IDENTITY(1,1),
	ServiceName varchar(100),
	ServiceDescription varchar(250),
	StatusID int,
	ServiceCost int,
	TavernID int,
    PRIMARY KEY (ServiceID, ServiceCost)
);


CREATE TABLE Statuses (
	StatusID int PRIMARY KEY IDENTITY(1,1),
	StatusName varchar(100)
);

CREATE TABLE Supplies (
	SupplyID int IDENTITY(1,1),
	SupplyName varchar(100),
	SupplyDescription varchar(250),
	UnitOfMeasure varchar(50),
	SupplyCost int,
    PRIMARY KEY (SupplyID, SupplyCost)
);

CREATE TABLE TavernOrders (
	OrderID int PRIMARY KEY IDENTITY(1,1),
	SupplyID int,
	Amount int,
	SupplyCost int,
    TotalCost int,
	TavernID int,
	DateRcvd date
);

CREATE TABLE Inventory (
	TavernID int,
	SupplyID int,
	CurrentCount int,
	DateUpdated date,
    SupplyCost int
);


CREATE TABLE GuestStatus (
	GuestStatusID int PRIMARY KEY IDENTITY(1,1),
	StatusName varchar(100)
);

CREATE TABLE Guest (
	GuestID int PRIMARY KEY (GuestID) IDENTITY(1,1),
	GuestName varchar(100),
	GuestBday date,
	GuestCday date
);

CREATE TABLE GuestStatusLink (
	GuestID int,
	GuestStatusID int
);

CREATE TABLE Class (
	ClassID int PRIMARY KEY IDENTITY(1,1),
	ClassName varchar(100)
);

CREATE TABLE GuestClass (
	GuestID int FOREIGN KEY (GuestID) REFERENCES Guest(GuestID),
	ClassID int FOREIGN KEY (ClassID) REFERENCES Class(ClassID),
	ClassLevel int,
	PRIMARY KEY (GuestID, ClassID)
);

CREATE TABLE SupplySales (
	OrderID int IDENTITY(1,1),
	GuestID int FOREIGN KEY (GuestID) REFERENCES Guest(GuestID),
	SupplyID int,
	TavernID int,
	AmountPurchased int,
	DatePurchased date,
	SupplyCost int
);

CREATE TABLE ServiceSales (
	OrderID int IDENTITY(1,1),
	GuestID int FOREIGN KEY (GuestID) REFERENCES Guest(GuestID),
	ServiceID int,
	TavernID int,
	ServiceCost int,
	DatePurchased date,
	AmountPurchased int

);


